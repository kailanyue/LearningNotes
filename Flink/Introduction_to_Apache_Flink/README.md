![image-20210118210445939](image/image-20210118210445939.png)

## 第1章 为什么选择Flink

许多系统都会产生连续的事件流，如GPS信号，金融交易，网络流量，机器日志和传感器等。如果能够高效地分析大规模流数据，我们对上述系统的理解将会更清楚、更快速。简而言之，流数据更真实地反映了我们的生活方式。

目前企业常见的数据架构仍旧假设数据是有头有尾的有限集，因为与有限集匹配的数据存储及处理系统建起来比较简单。但是，这样做无疑给那些天然的流式场景人为地加了限制。

我们渴望按照流的方式处理数据，但要做好很困难；随着大规模数据在各行各业中出现，难度越来越大。这是一个属于物理学范畴的难题：在大型分布式系统中，数据一致性和对事件发生顺序的理解必然都是有限的。

在这样的背景下，Apache Flink（以下简称 Flink）应运而生。作为在公共社区中诞生的开源软件，Flink 为大容量数据提供流处理，并用同一种技术实现批处理。

### 1.1 流处理欠佳的后果

#### 1.1.1 零售业和市场营销

在现代零售业中，网站点击量就代表了销量。网站获得的点击数据可能是大量、连续、不均匀的。用以往的技术很难处理好如此规模的数据。仅是构建批量系统处理这些数据流 1 就很有挑战性：结果很可能是需要一个庞大且杂的系统。并且，传统的做法还会带来数据丢失、延迟、错误的聚合结果等问题。

- 不准确的点击量：导致广告投放报价和业绩数字不准确
- 大规模实时数据处理失败：航空公司出现大面积的服务中断
- 实时推荐系统

#### 1.1.2 物联网

物联网是流数据被普遍应用的领域。在物联网中，低延迟的数据传输和处理，以及准确的数据分析通常很关键。各类仪器中的传感器频繁地获得测量数据，并将它们以流的形式传输至数据中心。在数据中心内，实时或者接近实时的应用程序将更新显示板，运行机器学习模型，发布警告，并就许多不同的服务项目提供反馈。

- 高速列车系统：
- 智能汽车：共享实时路况信息
- 智能计量表：机器学习模型来检测设备故障或者窃电等使用异常

#### 1.1.3 电信业

电信业是一个特殊的例子，它广泛地应用了基于各种目的而产生的跨地域的事件流数据。如果电信公司不能很好地处理流数据，就不能在某个移动通信基站出现流量高峰前预先将流量分配给其他的基站，也不能在断电时快速做出反应。通过处理流数据来进行异常检测，如检测通话中断或者设备故障，对于电信业来说至关重要。

#### 1.1.4 银行和金融

因为流处理做得不好而给银行以及金融业带来的潜在问题是极其显著的。从事零售业务的银行不希望客户交易被延迟或者因为错误统计而造成账户余额出错。曾经银行需要在下午早早关门进行结算，这样才能保证第二天营业之前算出准确的账。这种批量作业的营业模式早已消失。

> 在许多情况下，人们希望用低延迟或者实时的流处理来获得数据的高时效性，前提是流处理本身是准确且高效的。

### 1.2 连续事件处理的目标

### 1.3 流处理技术演变

### 1.4 初探Flink

#### 流处理与批处理

### 1.5 生产环境中的Flink

### 1.6 Flink的适用场景

## 第2章 流处理架构

## 第3章 Flink的用途

## 第4章 对时间的处理

## 第5章 有状态的计算

## 第6章 批处理：一种特殊的流处理

## 附录 其他资源